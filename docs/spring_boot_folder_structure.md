# Spring Boot Project Folder Structure

## Standard Maven/Spring Boot Project Structure

```
my-spring-boot-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ com/
â”‚   â”‚   â”‚       â””â”€â”€ example/
â”‚   â”‚   â”‚           â””â”€â”€ myapp/
â”‚   â”‚   â”‚               â”œâ”€â”€ MyAppApplication.java (Main class)
â”‚   â”‚   â”‚               â”œâ”€â”€ controller/
â”‚   â”‚   â”‚               â”œâ”€â”€ service/
â”‚   â”‚   â”‚               â”œâ”€â”€ repository/
â”‚   â”‚   â”‚               â”œâ”€â”€ model/
â”‚   â”‚   â”‚               â”œâ”€â”€ dto/
â”‚   â”‚   â”‚               â”œâ”€â”€ config/
â”‚   â”‚   â”‚               â””â”€â”€ exception/
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.properties
â”‚   â”‚       â”œâ”€â”€ application.yml
â”‚   â”‚       â”œâ”€â”€ static/
â”‚   â”‚       â”œâ”€â”€ templates/
â”‚   â”‚       â””â”€â”€ db/
â”‚   â”‚           â””â”€â”€ migration/
â”‚   â””â”€â”€ test/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ com/
â”‚       â”‚       â””â”€â”€ example/
â”‚       â”‚           â””â”€â”€ myapp/
â”‚       â”‚               â””â”€â”€ MyAppApplicationTests.java
â”‚       â””â”€â”€ resources/
â”‚           â””â”€â”€ application-test.properties
â”œâ”€â”€ target/                    (Generated - build output)
â”œâ”€â”€ .mvn/                      (Maven wrapper files)
â”œâ”€â”€ mvnw                       (Maven wrapper script - Unix)
â”œâ”€â”€ mvnw.cmd                   (Maven wrapper script - Windows)
â”œâ”€â”€ pom.xml                    (Maven configuration)
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

---

## Directory Breakdown

### ğŸ“ `src/main/java/` - Source Code

**Purpose:** All your Java source code goes here

#### Package Structure (Layered Architecture)

```
com.example.myapp/
â”œâ”€â”€ MyAppApplication.java          # Main entry point
â”œâ”€â”€ controller/                    # REST Controllers
â”‚   â”œâ”€â”€ UserController.java
â”‚   â””â”€â”€ ProductController.java
â”œâ”€â”€ service/                       # Business Logic
â”‚   â”œâ”€â”€ UserService.java
â”‚   â””â”€â”€ ProductService.java
â”œâ”€â”€ repository/                    # Data Access Layer
â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â””â”€â”€ ProductRepository.java
â”œâ”€â”€ model/ (or entity/)           # Domain Models/Entities
â”‚   â”œâ”€â”€ User.java
â”‚   â””â”€â”€ Product.java
â”œâ”€â”€ dto/                          # Data Transfer Objects
â”‚   â”œâ”€â”€ UserDTO.java
â”‚   â””â”€â”€ ProductDTO.java
â”œâ”€â”€ config/                       # Configuration Classes
â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â””â”€â”€ DatabaseConfig.java
â”œâ”€â”€ exception/                    # Custom Exceptions
â”‚   â”œâ”€â”€ ResourceNotFoundException.java
â”‚   â””â”€â”€ GlobalExceptionHandler.java
â””â”€â”€ util/                         # Utility Classes
    â””â”€â”€ DateUtil.java
```

---

### ğŸ“ `src/main/resources/` - Configuration & Static Files

**Purpose:** Non-Java resources (configs, static files, templates)

| File/Folder | Purpose | Example |
|-------------|---------|---------|
| **application.properties** | Main configuration file | `server.port=8080` |
| **application.yml** | YAML alternative to .properties | More readable for complex configs |
| **application-{profile}.properties** | Profile-specific configs | `application-dev.properties`, `application-prod.properties` |
| **static/** | Static web resources (CSS, JS, images) | Served at `/static/` |
| **templates/** | Server-side templates (Thymeleaf, FreeMarker) | HTML templates |
| **db/migration/** | Database migration scripts (Flyway/Liquibase) | Version-controlled DB changes |
| **messages.properties** | Internationalization (i18n) | Multi-language support |

---

### ğŸ“ `src/test/java/` - Test Code

**Purpose:** All test classes (JUnit, Mockito, Integration tests)

```
com.example.myapp/
â”œâ”€â”€ MyAppApplicationTests.java     # Basic app context test
â”œâ”€â”€ controller/
â”‚   â””â”€â”€ UserControllerTest.java    # Controller unit tests
â”œâ”€â”€ service/
â”‚   â””â”€â”€ UserServiceTest.java       # Service unit tests
â””â”€â”€ integration/
    â””â”€â”€ UserIntegrationTest.java   # Integration tests
```

---

### ğŸ“ `src/test/resources/` - Test Resources

**Purpose:** Test-specific configuration files

- `application-test.properties` - Test environment configs
- `test-data.sql` - Test database seed data

---

### ğŸ“ `target/` - Build Output (Generated)

**Purpose:** Compiled code and packaged artifacts (auto-generated by Maven)

```
target/
â”œâ”€â”€ classes/                    # Compiled .class files
â”œâ”€â”€ test-classes/              # Compiled test classes
â”œâ”€â”€ my-app-1.0.0.jar          # Final packaged JAR
â””â”€â”€ maven-status/             # Maven build metadata
```

âš ï¸ **Never commit `target/` to Git** - it's auto-generated

---

## Main Application Class

**Location:** `src/main/java/com/example/myapp/MyAppApplication.java`

```java
package com.example.myapp;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class MyAppApplication {
    public static void main(String[] args) {
        SpringApplication.run(MyAppApplication.class, args);
    }
}
```

**Key Points:**
- Must have `@SpringBootApplication` annotation
- Must have `main()` method
- Usually placed at the root of your package structure
- Enables component scanning for all sub-packages

---

## Layered Architecture Explained

### 1ï¸âƒ£ **Controller Layer** (`controller/`)

**Responsibility:** Handle HTTP requests, return responses

```java
@RestController
@RequestMapping("/api/users")
public class UserController {
    @Autowired
    private UserService userService;
    
    @GetMapping("/{id}")
    public ResponseEntity<UserDTO> getUser(@PathVariable Long id) {
        return ResponseEntity.ok(userService.getUserById(id));
    }
}
```

**Annotations:** `@RestController`, `@Controller`, `@RequestMapping`, `@GetMapping`, `@PostMapping`

---

### 2ï¸âƒ£ **Service Layer** (`service/`)

**Responsibility:** Business logic, orchestration

```java
@Service
public class UserService {
    @Autowired
    private UserRepository userRepository;
    
    public UserDTO getUserById(Long id) {
        User user = userRepository.findById(id)
            .orElseThrow(() -> new ResourceNotFoundException("User not found"));
        return convertToDTO(user);
    }
}
```

**Annotations:** `@Service`, `@Transactional`

---

### 3ï¸âƒ£ **Repository Layer** (`repository/`)

**Responsibility:** Database operations (CRUD)

```java
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
    Optional<User> findByEmail(String email);
    List<User> findByAgeGreaterThan(int age);
}
```

**Annotations:** `@Repository`
**Extends:** `JpaRepository`, `CrudRepository`, `PagingAndSortingRepository`

---

### 4ï¸âƒ£ **Model/Entity Layer** (`model/` or `entity/`)

**Responsibility:** Database entities, domain objects

```java
@Entity
@Table(name = "users")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(nullable = false)
    private String name;
    
    private String email;
    
    // Getters, setters, constructors
}
```

**Annotations:** `@Entity`, `@Table`, `@Id`, `@Column`, `@OneToMany`, `@ManyToOne`

---

### 5ï¸âƒ£ **DTO Layer** (`dto/`)

**Responsibility:** Data transfer between layers (API contracts)

```java
public class UserDTO {
    private Long id;
    private String name;
    private String email;
    
    // Getters, setters
}
```

**Why DTOs?**
- Decouple API from database schema
- Control what data is exposed
- Avoid circular references in JSON

---

## Configuration Files

### `application.properties`

```properties
# Server Configuration
server.port=8080
server.servlet.context-path=/api

# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=secret

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Logging
logging.level.root=INFO
logging.level.com.example.myapp=DEBUG
```

### `application.yml` (Alternative)

```yaml
server:
  port: 8080
  servlet:
    context-path: /api

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: root
    password: secret
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true

logging:
  level:
    root: INFO
    com.example.myapp: DEBUG
```

---

## Profile-Specific Configuration

**Use Cases:** Different configs for dev, test, prod

### Files:
- `application.properties` - Default/common config
- `application-dev.properties` - Development
- `application-test.properties` - Testing
- `application-prod.properties` - Production

### Activate Profile:

**Command line:**
```bash
java -jar myapp.jar --spring.profiles.active=prod
```

**In application.properties:**
```properties
spring.profiles.active=dev
```

**In IDE:** Set environment variable `SPRING_PROFILES_ACTIVE=dev`

---

## Package Naming Conventions

### âœ… Good Package Structure

```
com.company.project/
â”œâ”€â”€ controller/
â”œâ”€â”€ service/
â”œâ”€â”€ repository/
â”œâ”€â”€ model/
â”œâ”€â”€ dto/
â”œâ”€â”€ config/
â”œâ”€â”€ exception/
â””â”€â”€ util/
```

### âœ… Feature-Based (Alternative for large projects)

```
com.company.project/
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ UserController.java
â”‚   â”œâ”€â”€ UserService.java
â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â””â”€â”€ User.java
â”œâ”€â”€ product/
â”‚   â”œâ”€â”€ ProductController.java
â”‚   â”œâ”€â”€ ProductService.java
â”‚   â”œâ”€â”€ ProductRepository.java
â”‚   â””â”€â”€ Product.java
â””â”€â”€ config/
```

---

## Common Interview Questions

### Q: Why is the main class at the root package?

**Answer:** 
- `@SpringBootApplication` enables component scanning
- By default, it scans the package of the main class and all sub-packages
- Placing it at root ensures all components are discovered

### Q: What's the difference between `model/` and `dto/`?

**Answer:**
- **Model/Entity**: Database entities with JPA annotations, represent DB tables
- **DTO**: Plain objects for data transfer, used in API requests/responses
- DTOs decouple API from database schema

### Q: Where do you put configuration classes?

**Answer:** In `config/` package with `@Configuration` annotation

### Q: What goes in `static/` vs `templates/`?

**Answer:**
- **static/**: Static files (CSS, JS, images) served as-is
- **templates/**: Server-side templates (Thymeleaf, JSP) that are processed

### Q: Should you commit `target/` directory?

**Answer:** **NO!** It's auto-generated. Add it to `.gitignore`

### Q: What is `application-{profile}.properties` for?

**Answer:** Environment-specific configurations (dev, test, prod). Activated using `spring.profiles.active`

---

## Best Practices

### âœ… DO:

- Follow layered architecture (Controller â†’ Service â†’ Repository)
- Use DTOs for API responses
- Keep business logic in Service layer
- Use meaningful package names
- Place main class at root package
- Use profile-specific configs for environments
- Keep `application.properties` in `src/main/resources/`

### âŒ DON'T:

- Put business logic in Controllers
- Expose Entity classes directly in APIs
- Commit `target/` directory
- Hardcode environment-specific values
- Mix layers (e.g., Repository calling Controller)

---

## Quick Reference

### Common Annotations by Layer

| Layer | Annotations |
|-------|-------------|
| **Controller** | `@RestController`, `@Controller`, `@RequestMapping`, `@GetMapping`, `@PostMapping`, `@PathVariable`, `@RequestBody` |
| **Service** | `@Service`, `@Transactional` |
| **Repository** | `@Repository`, extends `JpaRepository` |
| **Model** | `@Entity`, `@Table`, `@Id`, `@Column`, `@OneToMany`, `@ManyToOne` |
| **Config** | `@Configuration`, `@Bean`, `@EnableWebSecurity` |

### File Locations Cheat Sheet

| What | Where |
|------|-------|
| Java source code | `src/main/java/` |
| Configuration files | `src/main/resources/` |
| Static files (CSS, JS) | `src/main/resources/static/` |
| HTML templates | `src/main/resources/templates/` |
| Test code | `src/test/java/` |
| Test configs | `src/test/resources/` |
| Main class | Root of package structure |
| Build output | `target/` (auto-generated) |

---

## Example: Complete User Management Feature

```
src/main/java/com/example/myapp/
â”œâ”€â”€ MyAppApplication.java
â”œâ”€â”€ controller/
â”‚   â””â”€â”€ UserController.java
â”œâ”€â”€ service/
â”‚   â””â”€â”€ UserService.java
â”œâ”€â”€ repository/
â”‚   â””â”€â”€ UserRepository.java
â”œâ”€â”€ model/
â”‚   â””â”€â”€ User.java
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ UserDTO.java
â”‚   â””â”€â”€ CreateUserRequest.java
â””â”€â”€ exception/
    â”œâ”€â”€ UserNotFoundException.java
    â””â”€â”€ GlobalExceptionHandler.java
```

This structure follows **separation of concerns** and makes the codebase maintainable and testable!
